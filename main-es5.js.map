{"version":3,"sources":["webpack:///src/app/services/error-interceptor.ts","webpack:///src/app/services/login.guard.ts","webpack:///src/environments/environment.ts","webpack:///src/app/services/login.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/services/pages.guard.ts","webpack:///src/app/app.module.ts","webpack:///src/app/constants/constants.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["ErrorInterceptor","router","loginService","req","next","token","getData","clone","setHeaders","Authorization","handle","pipe","err","url","status","obj","accessToken","localStorage","refreshToken","console","log","subscribe","res","result","setData","logout","LoginGuard","route","state","isAuthenticated","navigate","environment","production","API_URL","CAMPAIGN_STATS_INTERVAL","LoginService","http","headers","user","post","handleError","data","key","val","sessionStorage","clear","userID","error","message","AppComponent","title","PagesGuard","AppModule","provide","useClass","multi","COUNTRIES","id","name","flag","area","population","routes","path","canActivate","loadChildren","then","m","AuthModule","PagesModule","AppRoutingModule","forRoot","bootstrapModule","webpackEmptyAsyncContext","Promise","resolve","e","Error","code","keys","module","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["import { LoginService } from './login.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpEvent, HttpErrorResponse, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n  constructor(private router: Router, private loginService: LoginService) {}\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    let token = this.loginService.getData('accessToken') || 'undefined';\r\n    if (token !== 'undefined') {\r\n      req = req.clone({\r\n        setHeaders: { Authorization: `Bearer ${token}` }\r\n      });\r\n    }\r\n\r\n    // return next.handle(req);\r\n    return next.handle(req)\r\n    .pipe(\r\n      catchError(\r\n        (err: HttpErrorResponse) => {\r\n          if (this.router.url !== '/' && (err.status === 401)) {\r\n            let obj = {\r\n              accessToken: localStorage['accessToken'],\r\n              refreshToken: localStorage['refreshToken']\r\n            }\r\n            console.log(obj, \"Refresh Token Request\");\r\n            \r\n            this.loginService.refreshToken(obj).subscribe(res => {\r\n              console.log(res, \"Refresh Token Response\")\r\n              if (res.result === 'Success') {\r\n                this.loginService.setData('accessToken', res.accessToken)\r\n                return next.handle(req)\r\n              }\r\n              else {\r\n                this.loginService.logout()\r\n                return\r\n              }\r\n            }, (err) => {\r\n              console.log(err);\r\n            })\r\n          } \r\n          console.log(err);\r\n          return throwError(err);\r\n        }\r\n      )\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { LoginService } from './login.service';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginGuard implements CanActivate {\n  constructor(private loginService: LoginService, private router: Router) { }\n\n  canActivate(\n    route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    if (this.loginService.isAuthenticated()) {\n      this.router.navigate(['/pages'])\n      return false;\n    }\n    return true;\n  }\n  \n}\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  API_URL: 'https://nmbservice.spitfireagent.com/DialServiceAPI',\r\n  //API_URL: 'http://localhost:62188',\r\n  CAMPAIGN_STATS_INTERVAL: 10000\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { API_URL } from '../constants/constants';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { retry, catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class LoginService {\r\n\r\n  constructor(private http: HttpClient, private router: Router) { }\r\n\r\n  private headers = new HttpHeaders({ 'Content-Type': 'application/json' });\r\n\r\n  login(user: any): Observable<any> {\r\n    return this.http.post<any>(API_URL + '/api/Login/LoginUser', user, { headers: this.headers }).pipe(\r\n      retry(1),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  refreshToken(data: any): Observable<any> {\r\n    return this.http.post<any>(API_URL + '/api/Login/RefreshToken', data, { headers: this.headers }).pipe(\r\n      retry(1),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  registerClient(data: any): Observable<any> {\r\n    return this.http.post<any>(API_URL + '/api/DialService/RegisterClient', data, { headers: this.headers }).pipe(\r\n      retry(1),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  registerSupervisor(data: any): Observable<any> {\r\n    return this.http.post<any>(API_URL + '/api/DialService/RegisterSupervisor', data, { headers: this.headers }).pipe(\r\n      retry(1),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  getSecretQuestion(data: any): Observable<any> {\r\n    return this.http.post<any>(API_URL + '/api/Login/GetSecretQuestion', data, { headers: this.headers }).pipe(\r\n      retry(1),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  verifySecretAnswer(data: any): Observable<any> {\r\n    return this.http.post<any>(API_URL + '/api/Login/verifySecretAnswer', data, { headers: this.headers }).pipe(\r\n      retry(1),\r\n      catchError(this.handleError)\r\n    );\r\n  }\r\n\r\n  setSession(key: any, val: any): void {\r\n    sessionStorage[key] = val;\r\n  }\r\n\r\n  setData(key: any, val: any): void {\r\n    localStorage[key] = val;\r\n  }\r\n\r\n  getData(key: any): any {\r\n    return localStorage[key];\r\n  }\r\n\r\n  logout() {\r\n    localStorage.clear();\r\n    this.router.navigate(['/']);\r\n  }\r\n\r\n  gotoNotFound() {\r\n    this.router.navigate(['/403']);\r\n  }\r\n\r\n  isAuthenticated(): boolean {\r\n    return localStorage.userID != null;\r\n  }\r\n\r\n  handleError(error: any) {\r\n    return throwError(error.message || error);\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `<router-outlet></router-outlet>`,\n  styles: []\n})\nexport class AppComponent {\n  title = 'SpitFire';\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { LoginService } from './login.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PagesGuard implements CanActivate {\n  constructor(private loginService: LoginService) { }\n\n  canActivate(\n    route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    if (!this.loginService.isAuthenticated()) {\n      this.loginService.logout();\n      return false;\n    }\n    return true;\n  }\n  \n}\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\r\nimport { ErrorInterceptor } from './services/error-interceptor';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: ErrorInterceptor,\r\n      multi: true\r\n    },\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { environment } from './../../environments/environment';\r\n\r\nexport const API_URL: string = environment.API_URL;\r\nexport const CAMPAIGN_STATS_INTERVAL: number = environment.CAMPAIGN_STATS_INTERVAL;\r\n\r\nexport interface Country {\r\n    id: number;\r\n    name: string;\r\n    flag: string;\r\n    area: number;\r\n    population: number;\r\n}\r\n\r\nexport const COUNTRIES: Country[] = [\r\n    {\r\n        id: 1,\r\n        name: 'Russia',\r\n        flag: 'f/f3/Flag_of_Russia.svg',\r\n        area: 17075200,\r\n        population: 146989754\r\n    },\r\n    {\r\n        id: 2,\r\n        name: 'France',\r\n        flag: 'c/c3/Flag_of_France.svg',\r\n        area: 640679,\r\n        population: 64979548\r\n    },\r\n    {\r\n        id: 3,\r\n        name: 'Germany',\r\n        flag: 'b/ba/Flag_of_Germany.svg',\r\n        area: 357114,\r\n        population: 82114224\r\n    },\r\n    {\r\n        id: 4,\r\n        name: 'Portugal',\r\n        flag: '5/5c/Flag_of_Portugal.svg',\r\n        area: 92090,\r\n        population: 10329506\r\n    },\r\n    {\r\n        id: 5,\r\n        name: 'Canada',\r\n        flag: 'c/cf/Flag_of_Canada.svg',\r\n        area: 9976140,\r\n        population: 36624199\r\n    },\r\n    {\r\n        id: 6,\r\n        name: 'Vietnam',\r\n        flag: '2/21/Flag_of_Vietnam.svg',\r\n        area: 331212,\r\n        population: 95540800\r\n    },\r\n    {\r\n        id: 7,\r\n        name: 'Brazil',\r\n        flag: '0/05/Flag_of_Brazil.svg',\r\n        area: 8515767,\r\n        population: 209288278\r\n    },\r\n    {\r\n        id: 8,\r\n        name: 'Mexico',\r\n        flag: 'f/fc/Flag_of_Mexico.svg',\r\n        area: 1964375,\r\n        population: 129163276\r\n    },\r\n    {\r\n        id: 9,\r\n        name: 'United States',\r\n        flag: 'a/a4/Flag_of_the_United_States.svg',\r\n        area: 9629091,\r\n        population: 324459463\r\n    },\r\n    {\r\n        id: 10,\r\n        name: 'India',\r\n        flag: '4/41/Flag_of_India.svg',\r\n        area: 3287263,\r\n        population: 1324171354\r\n    },\r\n    {\r\n        id: 11,\r\n        name: 'Indonesia',\r\n        flag: '9/9f/Flag_of_Indonesia.svg',\r\n        area: 1910931,\r\n        population: 263991379\r\n    },\r\n    {\r\n        id: 12,\r\n        name: 'Tuvalu',\r\n        flag: '3/38/Flag_of_Tuvalu.svg',\r\n        area: 26,\r\n        population: 11097\r\n    },\r\n    {\r\n        id: 13,\r\n        name: 'China',\r\n        flag: 'f/fa/Flag_of_the_People%27s_Republic_of_China.svg',\r\n        area: 9596960,\r\n        population: 1409517397\r\n    }\r\n];\r\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginGuard } from './services/login.guard';\nimport { PagesGuard } from './services/pages.guard';\n\nconst routes: Routes = [\n  { path: '', canActivate: [LoginGuard], loadChildren: () => import('./auth/auth.module').then(m => m.AuthModule) },\n  { path: 'pages', canActivate: [PagesGuard], loadChildren: () => import('./pages/pages.module').then(m => m.PagesModule) }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}